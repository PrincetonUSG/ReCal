{% extends 'main/base.html' %}
{% load staticfiles %}

{% block title %}ReCal - Spring 2014{% endblock %}

{% block main_content %}
{% include 'main/nav.html' %}
{% include 'main/sidebar.html' %}
<div class="main-content tab-content">
    <div class="tab-pane fade left {% if nav_page == 0 %} active in {% endif %} container-fluid" id="agenda">
        {% include 'main/agenda-placeholder.html' %}
    </div>         
    <div class="tab-pane fade right {% if nav_page == 1 %} active in {% endif %} container-fluid" id="calendar">
        {% include 'main/calendar.html' %}
    </div>
</div>
<div id="content_bounds"></div>
<div id="about-content" class="about-hidden">
    <h1 id="about-close-button"><a onclick="toggleInfo(); return false;"><i class="fa fa-times-circle"></a></i></h1> 
    {% include 'landing/content.html' %}
</div>

<div id="indicators-container">
</div>



<div class="modal fade bs-example-modal-lg" id="tutorialModal" tabindex="-1" role="dialog" aria-labelledby="tutorialModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel2">Getting Started with ReCal</h4>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div id="tutorial1" class="row">
                    <p><b>Here's all you need to know to get started with ReCal:</b></p>

                    <p>Click any event in Agenda or Calendar view to see its details.<br/>You can drag and drop the details popup anywhere -- and it will even snap to the sidebar automatically if you drag it towards the right side of the page.</p>

                    <p>Done with an assignment, or never want to go to lecture again? Click the Hide button (looks like a half-closed eye) at the top of the event popup.<br/>If you want to get it back, click Settings at the top right and then enable hidden events; click the eye button again to unhide.</p>

                    <p>In the event popup, click any field to edit. Your edits will be highlighted in yellow.<br/>Don't forget to click the Save button at the top of the popup to save your changes!</p>

                    <p>Start a new event by clicking the Add Event button at the top right of the page.</p>

                    <p>If you need to change the classes you're signed up for, just click the Edit Profile link at the top right. <br/>You can change your display name here, too!</p>

                    <p>Last piece of advice to get you up and rolling: If you see a popup that says "There are unapproved changes", click it to see new changes that other users have submitted.<br/>Vote them up or down -- we'll reward you with points for your votes! Your reward's going to be especially big if you vote with the hive-mind...</p>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Dashboard Settings</h4>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div id="course_options" class="row">
                    </div>
                    <div id="theme_options" class="row">
                    </div>
                    <div id="hidden_options" class="row">
                    </div>
                    <div id="agenda_options" class="row">
                    </div>
                    <div id="calendar_options" class="row">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>




<div id='agenda-template' class='hide'>
{% include 'main/agenda.html' %}
</div>
<div id='popup-template' class='hide'>
{% include 'main/popup.html' %}
</div>


{% endblock %}

{% block link_or_script_blocking %}
<base href="{{ base_url }}">
<link rel="stylesheet" href="{% static 'bower_components/fullcalendar/fullcalendar.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/jqueryui/themes/base/minified/jquery-ui.min.css' %}">
<!-- <link rel="stylesheet" href="{% static 'bower_components/bootstrap/dist/css/bootstrap.min.css' %}"> -->
<link id="theme_css" rel="stylesheet" href="{% static 'cosmo/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/fontawesome/css/font-awesome.min.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/smalot-bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css' %}">

<link rel="stylesheet" href="{% static 'css/landing/landing.css' %}">
<link rel="stylesheet" href="{% static 'compiled/dashboard.min.css' %}">

<!--<script src="{% static 'js/global.js' %}"></script>
<script src="{% static 'js/dashboard/global.js' %}"></script>-->
<script>
var USER_NETID = '{{ username }}';
var POINT_COUNT = '{{point_count}}';
var CACHEMAN_PRELOAD = {
    /* '{% url 'nice.views.all_sections' %}', */ // executed way too early
    '/all-sections' : '{% autoescape off %}{{ all_sections }}{% endautoescape %}',
    /*'{% url 'nice.views.event_picker' %}', 
    '{% url 'nice.views.event_picker_item' %}',
    '{% url 'nice.views.section_colors_json' %}',*/
    };
var AGENDA_FILTER = [
    {% for type in agenda_pref %}
    '{{ type }}',
    {% endfor %}
];
var CAL_FILTER = [
    {% for type in calendar_pref %}
    '{{ type }}',
    {% endfor %}
];
var CUR_SEM = {
    term_code: '{{ cur_sem.term_code }}',
    start_date: '{{ cur_sem.start_date }}',
    end_date: '{{ cur_sem.end_date }}',
}
var THEME = '{{ theme }}';
{% if is_mobile %}
AGENDA_FILTER = ['AS', 'RS', 'EX', 'PR', 'LE', 'LA', 'OH'];
{% endif %}


</script>
{% endblock %}

{% block link_or_script_nonblocking %}
<script src="{% static 'bower_components/jquery/dist/jquery.min.js' %}"></script>
<script src="{% static 'bower_components/jqueryui/ui/minified/jquery-ui.min.js' %}"></script>
<script src="{% static 'bower_components/bootstrap/dist/js/bootstrap.min.js' %}"></script>
<script src="{% static 'bower_components/smalot-bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js' %}"></script>
<script src="{% static 'bower_components/fullcalendar/fullcalendar.min.js' %}"></script>
<script src="{% static 'bower_components/jquery.cookie/jquery.cookie.js' %}"></script>
<script src="{% static 'bower_components/momentjs/min/moment.min.js' %}"></script>
<script src="{% static 'bower_components/moment-timezone/min/moment-timezone.min.js' %}"></script>
<script src="{% static 'compiled/dashboard.js' %}"></script>
{% endblock %}


